# .env.example - アプリケーション設定ファイルのサンプル
# このファイルをコピーして「.env」という名前のファイルを作成し、
# ご自身の環境に合わせて値を設定してください。
# APIキーなどが含まれる「.env」ファイルは、絶対に公開しないでください。

# --- 必須設定 ---

# Discordボットのトークン
# Discord Developer Portal (https://discord.com/developers/applications) で取得したトークンを設定してください。
BOT_TOKEN=""

# Ollamaで使用するモデル名
# 例: "llama3:latest", "mistral:latest" など
OLLAMA_MODEL_NAME="hf.co/mmnga/sarashina2.2-3b-instruct-v0.1-gguf:latest"

# Ollama APIのエンドポイントURL
# Ollamaを別のサーバーで実行している場合は、そのアドレスに変更してください。
OLLAMA_API_URL="http://127.0.0.1:11434/api/generate"


# --- 管理者とボットの挙動 ---

# 管理者として認識するユーザーのDiscord ID
# 複数IDを指定する場合は、カンマ区切りで入力してください。(例: "123456789012345678,876543210987654321")
ADMIN_USER_IDS=""

# ボットに命令する際の接頭辞 (プレフィックス)
BOT_COMMAND_PREFIX="!aidog "


# --- Ollama パラメータ ---
# これらの値は、AIの応答の多様性や一貫性を調整します。

# 生成テキストのランダム性を制御します (0.0 - 1.0)。値が高いほど多様な応答になります。
OLLAMA_TEMPERATURE="0.8"

# モデルが一度に考慮するトークンの最大数 (コンテキストウィンドウ)
OLLAMA_NUM_CTX="4096"

# 上位Pサンプリング。生成する単語の候補を絞り込みます (0.0 - 1.0)。
OLLAMA_TOP_P="0.9"

# 同じ単語やフレーズの繰り返しを抑制するペナルティ。1.0はペナルティなし。
OLLAMA_REPEAT_PENALTY="1.15"


# --- 会話と応答 ---

# 記憶する過去の会話の数
MAX_CONVERSATION_HISTORY="5"

# APIリクエストのタイムアウト時間 (秒)
REQUEST_TIMEOUT="180"

# ボットの最大応答文字数
MAX_RESPONSE_LENGTH="1900"


# --- レート制限 ---

# ユーザーごとのレート制限回数
RATE_LIMIT_PER_USER="5"

# レート制限の期間 (秒)
RATE_LIMIT_WINDOW="60"


# --- 外部APIキー (任意) ---

# 天気機能を使用する場合のOpenWeatherMapのAPIキー
# https://openweathermap.org/api で取得したキーを設定してください。
OPENWEATHERMAP_API_KEY=""

# ホットペッパーグルメ検索機能を使用する場合のAPIキー
# https://webservice.recruit.co.jp/ で取得したキーを設定してください。
HOTPEPPER_API_KEY=""


# --- その他の設定 ---

# 天気機能のデフォルト都市
WEATHER_DEFAULT_CITY="Hokkaido, JP"

# 会話履歴を保存するSQLiteデータベースのパス
CONVERSATION_DB_PATH="ai_dog_conversation_history.sqlite3"

# 応答生成中のプログレス表示を更新する間隔 (秒)
PROGRESS_UPDATE_INTERVAL="7"
