# AI犬 Discordボット 設定ファイル

# -----------------------------------------------------------------------------
# 必須の基本設定
# -----------------------------------------------------------------------------
# Discordボットのトークン (Discord Developer Portal から取得)
# 例: BOT_TOKEN="AbcDefGHIjklmNopQrstuVwxyz.AbCdEf.GhiJklMnoPqrstuVwxyz1234567890"
BOT_TOKEN="ここにあなたのDiscordボットトークンを貼り付け"

# Ollamaで使用するモデル名
# 例: OLLAMA_MODEL_NAME="gemma-2-2b-jpn-it:q4_k_m" (Ollama Hubからpullした場合)
# 例: OLLAMA_MODEL_NAME="ai-inu-gemma-q4km" (GGUFからカスタムモデルとして作成した場合)
OLLAMA_MODEL_NAME="schroneko/gemma-2-2b-jpn-it:q4_K_M"

# Ollama APIのエンドポイントURL
OLLAMA_API_URL="http://localhost:11434/api/generate"


# -----------------------------------------------------------------------------
# ボットの挙動に関する設定 (任意項目: 設定しない場合はコード内のデフォルト値が使用されます)
# -----------------------------------------------------------------------------
# 管理者ユーザーのDiscord ID (複数いる場合はカンマ区切り。数値のみ)
# 例: ADMIN_USER_IDS="123456789012345678,987654321098765432"
# 設定しない場合は空欄のままにするか、この行をコメントアウト(#)または削除してください。
ADMIN_USER_IDS=""

# ボットのコマンドプレフィックス (デフォルト: "!aidog ")
# 例: BOT_COMMAND_PREFIX="犬ちゃん "
BOT_COMMAND_PREFIX="!aidog "


# -----------------------------------------------------------------------------
# Ollamaモデルのパラメータ設定 (任意項目)
# -----------------------------------------------------------------------------
# 応答の創造性・多様性 (0.0-2.0程度、高いほど多様。デフォルト: 0.7)
OLLAMA_TEMPERATURE="0.7"

# モデルが一度に考慮するコンテキストの最大長 (トークン数。デフォルト: 4096)
# Gemma 2 2Bのベースは8192ですが、ローカル環境のメモリに応じて調整してください。
OLLAMA_NUM_CTX="4096"

# Top-pサンプリング (0.0-1.0。temperatureと合わせて使用。デフォルト: 0.9)
OLLAMA_TOP_P="0.9"

# 応答の繰り返しを抑制する度合い (1.0で抑制なし、高いほど強く抑制。デフォルト: 1.1)
OLLAMA_REPEAT_PENALTY="1.1"


# -----------------------------------------------------------------------------
# 会話と応答に関する設定 (任意項目)
# -----------------------------------------------------------------------------
# ユーザーごとにLLMに渡すコンテキストとして記憶する最大会話往復数 (デフォルト: 5)
MAX_CONVERSATION_HISTORY="5"

# Ollama APIへのリクエストタイムアウト(秒) (デフォルト: 180)
# PCスペックに応じて、モデルの応答が遅い場合は長めに設定してください。
REQUEST_TIMEOUT="180"

# Discordに送信する最大応答文字数 (デフォルト: 1900)
# これを超えた場合、応答が途中でカットされます。
MAX_RESPONSE_LENGTH="1900"


# -----------------------------------------------------------------------------
# レート制限に関する設定 (任意項目)
# -----------------------------------------------------------------------------
# 1ユーザーあたりの最大リクエスト数 (デフォルト: 5)
RATE_LIMIT_PER_USER="5"

# 上記リクエスト数をカウントする期間 (秒) (デフォルト: 60)
RATE_LIMIT_WINDOW="60"


# -----------------------------------------------------------------------------
# 天気情報機能に関する設定 (任意項目)
# -----------------------------------------------------------------------------
# OpenWeatherMapのAPIキー (天気機能を利用する場合に設定)
# 設定しない場合、天気機能は利用できません。
# 例: OPENWEATHERMAP_API_KEY="your_actual_api_key_from_openweathermap"
OPENWEATHERMAP_API_KEY=""

# 天気コマンドで都市名が省略された場合のデフォルト都市 (デフォルト: "東京")
WEATHER_DEFAULT_CITY="東京"


# -----------------------------------------------------------------------------
# その他設定 (任意項目)
# -----------------------------------------------------------------------------
# 会話履歴を保存するSQLiteデータベースのファイルパス (デフォルト: "ai_dog_conversation_history.sqlite3")
# 例: CONVERSATION_DB_PATH="C:/AIDogData/history.db" (フルパス指定も可能)
CONVERSATION_DB_PATH="ai_dog_conversation_history.sqlite3"

# 応答生成中の進捗表示メッセージを更新する間隔(秒) (デフォルト: 7)
PROGRESS_UPDATE_INTERVAL="7"
